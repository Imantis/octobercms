title = "/calc"
url = "/calc"
layout = "test"
is_hidden = 0
==
<?php
function onTest(){
    $value1      = post('value1');
    $value2      = post('value2');
    $operation = post('operation');
  
    switch($operation) {
        case '+':
            $this['answer'] = $value1 + $value2;
            break;
        case '-':
            $this['answer'] = $value1 - $value2;
            break;
        case '*':
            $this['answer'] = $value1 * $value2;
            break;
        case '/':
            $this['answer'] = $value1 / $value2;
            break;
    }
}
?>
==
<h3>AJAX Калькулятор</h3>
<form class="form-inline"
               data-request="onTest"
               data-request-update="calcres: '#result'">
    <input type="text" name="value1" value="" class="form-control"
    style="width:100px;">
    <select name="operation" class="form-control"
    style="width:70px">
        <option>+</option>
        <option>-</option>
        <option>*</option>
        <option>/</option>
    </select>
  
    <input type="text" name="value2" value="" class="form-control" style="
    width:100px;">
    <button type="submit" class="btn btn-primary">=</button>
</form>
  
<h3>Result:</h3>
<div id="result">
    {% partial 'calcres' %}
</div>